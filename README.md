# Knight Notes

Hello, Knight Notes is a website to allow users to create and take quizzes.

## Prerequisites

Necessary to download to set up the website:

Name:           Recommended and tested file versions:       Websites to download from:

1. Node.js      node-v22.14.0-x64.msi                       https://nodejs.org/en/download
2. MySQL        mysql-installer-community-8.0.41.0.msi      https://www.mysql.com/downloads/
3. Git          Git-2.49.0-64-bit.exe                       https://git-scm.com/downloads

To note, it is expected that the most recent versions are compatible.

## Installation Steps

### 1. Clone the repo

git clone https://github.com/refreshknowledge/knightNotesCIS4004.git
cd knightNotesCIS4004

### 2. Install the dependencies

cd server
npm install

cd ../client
npm install

### 3. Set up MySQL

1. Start MySQL Workbench 8.0 CE

2. Click on your local "MySQL Connections"

3. Enter your password to continue into MySQL

4. In the top toolbar, click "Create a new schema in the connected server"

5. Type in the "Name:" field the name of schema would want for this website. I chose knightnotescis4004db so we will continue with this name unless you want to choose another name.

6. Click "Apply"

7. Click "Finish"

8. Click the "refresh" button on the schemas.

9. In ./server/config/config.json for the key "database" YOU MUST HAVE THE VALUE in the json "development": {"database": "knightnotescis4004db"}. OR change the value to whatever name you chose in step 5.

10. In ./server/config/config.json for the key "password" YOU MUST CHANGE THE VALUE in the json "development": {"password": "YourRootPasswordInMySQL"}. The password is the password you typed in step 3.


### 4. Acquire 3rd Party API Key from Pexels.com

Pexels.com is a website with a large collection of royalty free images.

1. Go to https://www.pexels.com/api/

2. Click "Get Started" and get redirected to this link: https://www.pexels.com/onboarding/

3. Click "I want to download" and get redirected to this link: https://www.pexels.com/join-consumer/?onboarding=skipped

4. To create a Pexels.com account your first name, email address, and a password for your Pexels.com account. Or click "Login" if you have already created a Pexels.com account.

5. After creating a Pexels.com account, in the top right corner, there are "3 dots" or an "ellipsis". Click "Image & Video API" to be redirected to: https://www.pexels.com/api/

6. Click the "Your API Key" button.

7. The information you input into the "Generate a Pexels API Key" is not too important. Here is what I suggest: "Project Name: CIS4004", "Project Category: Other", "Explain briefly...: I am making a small website for my class to use images from a 3rd party api response.", and leave the "URL" section blank.

8. Click "I agree to Terms of Service and API Guidelines."

9. Click "Generate API Key"

10. To activate the API Key, go to your personal email inbox (the email that you provided in step 4) to confirm your email. It will go to your inbox or spam folder.

11. Click the "Confirm email" button from info@pexels.com

12. Now COPY AND PASTE the API key from https://www.pexels.com/api/key/ into ./server/routes/Quizzes.js and set "pexelsApiKey" equal to your API key. (Can be found in router.get("/withId/:id", ...) on LINE 198).

This free API Key is able to make 200 requests per hour and 20000 requests per month. This rate limit is sufficient for the 3rd party supplementary data on Knight Notes to function properly. Ensure that if you are using this Pexels API key multiple websites that requires many requests, that it does not limit Knight Notes' requests.

### 5. Run the server and client

1. At the root, open a new terminal:

cd server
npm start

Ensure that the server starts.

The server runs on port 3001.

2. At the root, open a new terminal:

cd client
npm start

Ensure the the server starts (this will take a few seconds).

The client runs on port 3000.

3. Go to the Chrome browser at: http://localhost:3000/

Now the Knight Notes website is working!

## AI Citation

OpenAI's ChatGPT was used to generate code in this project on both the frontend and backend.

To begin with, the CSS files in client/src were all generated by ChatGPT.

The method to have ChatGPT to generate the CSS involved adding unique className tags for each element in the JSX (returned by js files in client/src/pages). Then, copying and pasting the those elements with their new className into ChatGPT with this prompt attached: "Create the CSS for this code. Make the text 'Calibri,' make the themed of the website white with black and gold, make the website look professional."

This was done for App.css, CreateQuiz.css, Landing.css, Login.css, PageNotFound.css, Quiz.css, QuizInfo.css, SearchedUser.css, and Signup.css.

Additionally, the frontend form validation code was generated by ChatGPT.

The method to have ChatGPT to generate the required form validation involved providing examples of json that was accepted by our backend API. When prompting ChatGPT to provide the form validation code in our React components, we decided to use the Yup and Formik libraries as the code was readable. Our prompts would be: "Add to QuizInfo.js the use of Yup and Formik to generate this json: { "commentText": "Example text.", "QuizId": 1 } where commentText must include 1 to 250 characters inclusively."

The use of Yup and Formik can be seen for CreateQuiz.js, Login.js, QuizInfo.js, and Signup.js.

The state hooks that were initialized to arrays were generated by ChatGPT, specifically in client/src/pages for Landing.js when having the likedQuizzes and allQuizzes.

The method to have ChatGPT to generate the code for implementing the liking system involved prompting ChatGPT: "What functions are used to icrement and decrement the likedQuizzes array?" and, "Which requests or button press should the setLikedQuizzes be updated?".

Regarding the backend, the Sequelize code in server/models and server/routes were generated by ChatGPT.

The method to have ChatGPT to generate the models involved stating the structure of the relational database that we wanted constructed (the associations between tables). When prompting ChatGPT to provide the Sequelize code, we would prompt: "Generate Sequelize code for Quizzes.js Create a table 'Quizzes' with a title string, question string, and UserId foreign key. Allow for a Quizzes record to be associated with records from tables Comments, Likes, and Questions." We were able to learn the syntax of Sequelize from the first few models to be able to generate the code for the Scores table when that table needed to be created. This prompting for Sequelize code was continued for the routes too. We had first prompted: "Generate Sequelize code to create a record in table Comments where there are fields commentText a string, user a string, and QuizId an integer and this json was sent in the request { "commentText": "Example text.", "QuizId": 1 }" As there were multiple instances of needing to create records, our experience from learning how to accomplish the first implementation, helped us complete similar small needs.

The Sequelize code generated by ChatGPT exists in Comments.js, Likes.js, Options.js, Questions.js, Quizzes.js, Scores.js, and Users.js in server/models and Comments.js, Likes.js, Quizzes.js, Scores.js, and Users.js in server/routes.

Similarly to the frontend, form validation code was generated by ChatGPT in the backend.

These API routes: quizzes/submit, quizzes/withId, quizzes/withUserId, and quizzes/answers iterated through the corresponding records in the database to the data provided in the json. Our prompts to generate this code would be: "Given {"quizId": 3, "answers": [{"questionId": 5,"selectedOptionId": 19},{"questionId": 6,"selectedOptionId": 21}]}, retrieve the quiz where id is equal to quizId, its associated questions, and the questions' associated options. Error handle for when the quizId is invalid. Respond with an array of questions and its true option."

The AuthenticationFunction.js from server/middleware code was generated by ChatGPT.

Our group had not created middleware to authenticate the user from previous projects, so through a series of questions asking ChatGPT to understand the concepts on how to implement, such as prompting: "In the backend with Node.js with Express, how do you authenticate the user with each request?", "How do you make the authentication function run before each API route?", "What is the implementation to use the jsonwebtoken library for authenticating an access token?"